<?php
class ModelExtensionMstoreappBlocks extends Model {
	public function install() {
		$this->db->query("
			CREATE TABLE IF NOT EXISTS `" . DB_PREFIX . "mstoreapp_blocks` (
			  `id` int(11) NOT NULL AUTO_INCREMENT,
		      `name` VARCHAR(50) NOT NULL,
		      `parent_id` int(15) NULL,
		      `description` varchar(100) NULL,
		      `status` int(4) DEFAULT 1,
		      `block_type` VARCHAR(200) NULL, 
		      `image_url` VARCHAR(100) NULL,
		      `image_width` int(50) DEFAULT 200,
		      `image_height`int(50) DEFAULT 200,
		      `link_id` int(50) NULL,
		      `link_type` VARCHAR(50) NULL,
		      `end_time` VARCHAR(50) NULL,
		      `sort_order` int(15) NULL,
		      `margin_between` int(4) DEFAULT 10,
		      `width` int(4) DEFAULT 100,
		      `margin_top` int(4) DEFAULT 0,
		      `margin_right` int(4) DEFAULT 0,
		      `margin_bottom` int(4) DEFAULT 0,
		      `margin_left` int(4) DEFAULT 0,
		      `padding_top` int(4) DEFAULT 0,
		      `padding_right` int(4) DEFAULT 0,
		      `padding_bottom` int(4) DEFAULT 0,
		      `padding_left` int(4) DEFAULT 0,
		      `border_radius` int(4) DEFAULT 0,
		      `layout` VARCHAR(50) DEFAULT 'grid',
		      `layout_grid_col` VARCHAR(50) DEFAULT 'two',
		      `card_style` VARCHAR(50) NULL,
		      `shape` VARCHAR(50) NULL,
		      `header_align` VARCHAR(50) NULL,
		      `text_color` VARCHAR(50) NULL,
		      `bg_color`  VARCHAR(50) DEFAULT '#ffffff',
		      PRIMARY KEY  (`id`)
			) ENGINE=MyISAM DEFAULT COLLATE=utf8_general_ci;");

	}

	public function uninstall() {
		$this->db->query("DROP TABLE IF EXISTS `" . DB_PREFIX . "mstoreapp_blocks`;");
	}

	public function addValue($key, $value, $status) {
	$this->db->query("INSERT INTO `" . DB_PREFIX . "mstoreapp_blocks` SET `key` = '" . $this->db->escape($key) . "', `value` = '" . $this->db->escape($value) . "', `status` = '" . (int)$status . "' ON DUPLICATE KEY UPDATE `value` = '" . $this->db->escape($value) . "', `status` = '" . (int)$status . "'");
	}

	public function getTotalBlocks() {
		$query = $this->db->query("SELECT COUNT(*) AS total FROM " . DB_PREFIX . "mstoreapp_blocks");

		return $query->row['total'];
	}

	public function addBlock($data) {
		$this->db->query("INSERT INTO " . DB_PREFIX . "mstoreapp_blocks SET name = '" . $this->db->escape($data['name']) . "', `parent_id` = '" . (isset($data['parent_id']) ? (int)$data['parent_id'] : 0) . "', `description` = '" . $this->db->escape($data['description']) . "', status = '" . $this->db->escape($data['status']) . "', block_type = '" . $this->db->escape($data['block_type']) . "', image_url = '" . $this->db->escape($data['image_url']) . "',  image_width = '" . (int)$data['image_width'] . "', image_height = '" . (int)$data['image_height'] . "', link_id = '" . $this->db->escape($data['link_id']) . "', link_type = '" . $this->db->escape($data['link_type']) . "', end_time = '" . $this->db->escape($data['end_time']) . "', sort_order = '" . (int)$data['sort_order'] . "', margin_top = '" . (int)$data['margin_top'] . "', margin_right = '" . (int)$data['margin_right'] . "', margin_bottom = '" . (int)$data['margin_bottom'] . "', margin_left = '" . (int)$data['margin_left'] . "', padding_top = '" . (int)$data['padding_top'] . "', padding_right = '" . (int)$data['padding_right'] . "', padding_bottom = '" . (int)$data['padding_bottom'] . "', padding_left = '" . (int)$data['padding_left'] . "', width = '" . (int)$data['width'] . "', margin_between = '" . (int)$data['margin_between'] . "', border_radius = '" . (int)$data['border_radius'] . "', layout = '" . $this->db->escape($data['layout']) . "', layout_grid_col = '" . $this->db->escape($data['layout_grid_col']) . "', card_style = '" . $this->db->escape($data['card_style']) . "', shape = '" . $this->db->escape($data['shape']) . "', header_align = '" . $this->db->escape($data['header_align']) . "', text_color = '" . $this->db->escape($data['text_color']) . "', bg_color = '" . $this->db->escape($data['bg_color']) . "'");

		$block_id = $this->db->getLastId();
	}

	public function editBlock($block_id, $data) {
		$this->db->query("UPDATE " . DB_PREFIX . "mstoreapp_blocks SET name = '" . $this->db->escape($data['name']) . "', `parent_id` = '" . (isset($data['parent_id']) ? (int)$data['parent_id'] : 0) . "', `description` = '" . $this->db->escape($data['description']) . "', status = '" . $this->db->escape($data['status']) . "', block_type = '" . $this->db->escape($data['block_type']) . "', image_url = '" . $this->db->escape($data['image_url']) . "', image_width = '" . (int)$data['image_width'] . "', image_height = '" . (int)$data['image_height'] . "', link_id = '" . $this->db->escape($data['link_id']) . "', link_type = '" . $this->db->escape($data['link_type']) . "', end_time = '" . $this->db->escape($data['end_time']) . "', sort_order = '" . (int)$data['sort_order'] . "', margin_top = '" . (int)$data['margin_top'] . "', margin_right = '" . (int)$data['margin_right'] . "', margin_bottom = '" . (int)$data['margin_bottom'] . "', margin_left = '" . (int)$data['margin_left'] . "', padding_top = '" . (int)$data['padding_top'] . "', padding_right = '" . (int)$data['padding_right'] . "', padding_bottom = '" . (int)$data['padding_bottom'] . "', padding_left = '" . (int)$data['padding_left'] . "', width = '" . (int)$data['width'] . "', margin_between = '" . (int)$data['margin_between'] . "', border_radius = '" . (int)$data['border_radius'] . "', layout = '" . $this->db->escape($data['layout']) . "', layout_grid_col = '" .$this->db->escape($data['layout_grid_col']) . "', card_style = '" . $this->db->escape($data['card_style']) . "', shape = '" . $this->db->escape($data['shape']) . "', header_align = '" . $this->db->escape($data['header_align']) . "', text_color = '" . $this->db->escape($data['text_color']) . "', bg_color = '" . $this->db->escape($data['bg_color']) . "' WHERE id = '" . (int)$block_id . "'");
	}

	public function getBlocks($data = array()) {
		$sql = "SELECT t1.*, t2.name AS parent_name
			FROM " . DB_PREFIX . "mstoreapp_blocks AS t1
			LEFT JOIN " . DB_PREFIX . "mstoreapp_blocks AS t2
			ON t2.id = t1.parent_id";
                    
		if (!empty($data['filter_name'])) {
			$sql .= " AND cd2.name LIKE '%" . $this->db->escape($data['filter_name']) . "%'";
		}

		//$sql .= " GROUP BY cp.category_id";

		$sort_data = array(
			'name',
			'description',
			'sort_order'
		);

		if (isset($data['sort']) && in_array($data['sort'], $sort_data)) {
			$sql .= " ORDER BY " . $data['sort'];
		} else {
			$sql .= " ORDER BY sort_order";
		}

		if (isset($data['order']) && ($data['order'] == 'DESC')) {
			$sql .= " DESC";
		} else {
			$sql .= " ASC";
		}

		if (isset($data['start']) || isset($data['limit'])) {
			if ($data['start'] < 0) {
				$data['start'] = 0;
			}

			if ($data['limit'] < 1) {
				$data['limit'] = 20;
			}

			$sql .= " LIMIT " . (int)$data['start'] . "," . (int)$data['limit'];
		}

		$query = $this->db->query($sql);

		return $query->rows;
	}

	public function getBlock($id) {
		$query = $this->db->query("SELECT DISTINCT * FROM " . DB_PREFIX . "mstoreapp_blocks WHERE id = " . (int)$id);
		
		return $query->row;
	}

	public function deleteBlock($block_id) {
		$this->db->query("DELETE FROM " . DB_PREFIX . "mstoreapp_blocks WHERE id = '" . (int)$block_id . "'");
		$this->cache->delete('category');
	}

	public function basic() {

		$this->db->query("DELETE FROM " . DB_PREFIX . "mstoreapp_blocks");

		$data = json_decode('[{"id":"1","name":"HOME","parent_id":"0","description":"","status":"1","block_type":"home","image_url":"","image_width":"0","image_height":"0","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_with_shadow","shape":"square","header_align":"top_left","text_color":"#000000","bg_color":"#ffffff"},{"id":"2","name":"BANNER SLIDER","parent_id":"1","description":"","status":"1","block_type":"banner_block","image_url":"","image_width":"0","image_height":"0","link_id":"0","link_type":"product","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"slider","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"3","name":"BANNER SLIDER BANNER 1","parent_id":"2","description":"","status":"1","block_type":"banner","image_url":"catalog\/mobile-blocks\/Banners\/Banner2.png","image_width":"1080","image_height":"1080","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"top_left","text_color":"#000000","bg_color":"#ffffff"},{"id":"4","name":"BANNER SLIDER BANNER 2","parent_id":"2","description":"","status":"1","block_type":"banner","image_url":"catalog\/mobile-blocks\/Banners\/Banner1.png","image_width":"1080","image_height":"1080","link_id":"0","link_type":"","end_time":"","sort_order":"1","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"top_left","text_color":"#000000","bg_color":"#ffffff"},{"id":"5","name":"BANNER SLIDER BANNER 3","parent_id":"2","description":"","status":"1","block_type":"banner","image_url":"catalog\/mobile-blocks\/Banners\/Banner3.png","image_width":"1080","image_height":"1080","link_id":"0","link_type":"","end_time":"","sort_order":"2","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"top_left","text_color":"#000000","bg_color":"#ffffff"},{"id":"6","name":"BANNER SLIDER BANNER 4","parent_id":"2","description":"","status":"1","block_type":"banner","image_url":"catalog\/mobile-blocks\/Banners\/Banner6.png","image_width":"1080","image_height":"1080","link_id":"0","link_type":"","end_time":"","sort_order":"3","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"top_left","text_color":"#000000","bg_color":"#ffffff"},{"id":"7","name":"CATEGORIES","parent_id":"1","description":"","status":"1","block_type":"category_block","image_url":"","image_width":"0","image_height":"0","link_id":"0","link_type":"product","end_time":"","sort_order":"1","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"grid","layout_grid_col":"two","card_style":"card_with_shadow","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"}]');

		foreach ($data as $value) {
			$this->db->query("INSERT INTO " . DB_PREFIX . "mstoreapp_blocks SET id = '" . (int)$value->id . "', name = '" . $this->db->escape($value->name) . "', `parent_id` = '" . (isset($value->parent_id) ? (int)$value->parent_id : 0) . "', `description` = '" . $this->db->escape($value->description) . "', status = '" . $this->db->escape($value->status) . "', block_type = '" . $this->db->escape($value->block_type) . "', image_url = '" . $this->db->escape($value->image_url) . "',  image_width = '" . (int)$value->image_width . "', image_height = '" . (int)$value->image_height . "', link_id = '" . $this->db->escape($value->link_id) . "', link_type = '" . $this->db->escape($value->link_type) . "', end_time = '" . $this->db->escape($value->end_time) . "', sort_order = '" . (int)$value->sort_order . "', margin_top = '" . (int)$value->margin_top . "', margin_right = '" . (int)$value->margin_right . "', margin_bottom = '" . (int)$value->margin_bottom . "', margin_left = '" . (int)$value->margin_left . "', padding_top = '" . (int)$value->padding_top . "', padding_right = '" . (int)$value->padding_right . "', padding_bottom = '" . (int)$value->padding_bottom . "', padding_left = '" . (int)$value->padding_left . "', width = '" . (int)$value->width . "', margin_between = '" . (int)$value->margin_between . "', border_radius = '" . (int)$value->border_radius . "', layout = '" . $this->db->escape($value->layout) . "', layout_grid_col = '" . $this->db->escape($value->layout_grid_col) . "', card_style = '" . $this->db->escape($value->card_style) . "', shape = '" . $this->db->escape($value->shape) . "', header_align = '" . $this->db->escape($value->header_align) . "', text_color = '" . $this->db->escape($value->text_color) . "', bg_color = '" . $this->db->escape($value->bg_color) . "'");
      	}
	}

	public function fashion() {

		$this->db->query("DELETE FROM " . DB_PREFIX . "mstoreapp_blocks");

		$data = json_decode('[{"id":"1","name":"HOME","parent_id":"0","description":"","status":"1","block_type":"home","image_url":"","image_width":"0","image_height":"0","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_with_shadow","shape":"square","header_align":"top_left","text_color":"#000000","bg_color":"#ffffff"},{"id":"2","name":"BANNER SLIDER","parent_id":"1","description":"","status":"1","block_type":"banner_block","image_url":"","image_width":"0","image_height":"0","link_id":"0","link_type":"product","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"slider","layout_grid_col":"two","card_style":"card_with_shadow","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"3","name":"BANNER SLIDER BANNER 1","parent_id":"2","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner1.png","image_width":"1080","image_height":"1080","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"top_left","text_color":"#000000","bg_color":"#ffffff"},{"id":"4","name":"BANNER SLIDER BANNER 2","parent_id":"2","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner2.png","image_width":"1080","image_height":"1080","link_id":"0","link_type":"","end_time":"","sort_order":"1","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"top_left","text_color":"#000000","bg_color":"#ffffff"},{"id":"5","name":"BANNER SLIDER BANNER 3","parent_id":"2","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner3.png","image_width":"1080","image_height":"1080","link_id":"0","link_type":"","end_time":"","sort_order":"2","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"top_left","text_color":"#000000","bg_color":"#ffffff"},{"id":"6","name":"BANNER SLIDER BANNER 4","parent_id":"2","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner4.png","image_width":"1080","image_height":"1080","link_id":"0","link_type":"","end_time":"","sort_order":"3","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"top_left","text_color":"#000000","bg_color":"#ffffff"},{"id":"7","name":"CATEGORIES","parent_id":"1","description":"","status":"1","block_type":"category_block","image_url":"","image_width":"600","image_height":"314","link_id":"0","link_type":"product","end_time":"","sort_order":"1","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"grid","layout_grid_col":"two","card_style":"card_with_shadow","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"8","name":"PRODUCT SLIDER","parent_id":"1","description":"","status":"1","block_type":"product_block","image_url":"","image_width":"600","image_height":"314","link_id":"20","link_type":"product","end_time":"","sort_order":"15","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"14","name":"NEWLY LANDED","parent_id":"1","description":"","status":"1","block_type":"banner_block","image_url":"","image_width":"600","image_height":"314","link_id":"0","link_type":"product","end_time":"","sort_order":"0","margin_between":"10","width":"50","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"30","padding_right":"0","padding_bottom":"30","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"left_floating","text_color":"#000000","bg_color":"#fafafa"},{"id":"15","name":"NEWLY LANDED BANNER 1","parent_id":"14","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner5.png","image_width":"200","image_height":"200","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"0","width":"100","margin_top":"15","margin_right":"40","margin_bottom":"15","margin_left":"150","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"16","name":"NEWLY LANDED BANNER 2","parent_id":"14","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner3.png","image_width":"200","image_height":"200","link_id":"0","link_type":"","end_time":"","sort_order":"2","margin_between":"10","width":"100","margin_top":"15","margin_right":"40","margin_bottom":"15","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"17","name":"NEWLY LANDED BANNER 3","parent_id":"14","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner4.png","image_width":"200","image_height":"200","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"15","margin_right":"40","margin_bottom":"15","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"18","name":"NEWLY LANDED BANNER 4","parent_id":"14","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner2.png","image_width":"200","image_height":"200","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"15","margin_right":"40","margin_bottom":"15","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"19","name":"NEW ARRIVALS","parent_id":"1","description":"","status":"1","block_type":"banner_block","image_url":"","image_width":"200","image_height":"200","link_id":"0","link_type":"product","end_time":"","sort_order":"8","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"20","padding_right":"0","padding_bottom":"40","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"20","name":"NEW ARRIVALS BANNER 1","parent_id":"19","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/600x314/Banner5.jpg","image_width":"600","image_height":"314","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"0","margin_right":"40","margin_bottom":"0","margin_left":"40","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"21","name":"NEW ARRIVALS BANNER 2","parent_id":"19","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/600x314/Banner4.jpg","image_width":"600","image_height":"314","link_id":"0","link_type":"","end_time":"","sort_order":"2","margin_between":"10","width":"100","margin_top":"0","margin_right":"40","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"22","name":"NEW ARRIVALS BANNER 3","parent_id":"19","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/600x314/Banner8.jpg","image_width":"600","image_height":"314","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"0","margin_right":"40","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"23","name":"NEW ARRIVALS BANNER 4","parent_id":"19","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/600x314/Banner10.jpg","image_width":"600","image_height":"314","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"0","margin_right":"40","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"24","name":"TOP BRANDS","parent_id":"1","description":"","status":"1","block_type":"banner_block","image_url":"","image_width":"0","image_height":"0","link_id":"0","link_type":"product","end_time":"","sort_order":"10","margin_between":"10","width":"50","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"40","padding_right":"0","padding_bottom":"40","padding_left":"0","border_radius":"50","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"left_floating","text_color":"#000000","bg_color":"#f3f7f8"},{"id":"25","name":"TOP BRANDS NEW COLLECTION BANNER 1","parent_id":"24","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner7.png","image_width":"200","image_height":"200","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"15","margin_right":"40","margin_bottom":"15","margin_left":"140","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"50","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"26","name":"TOP BRANDS NEW COLLECTION BANNER 4","parent_id":"24","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner6.png","image_width":"200","image_height":"200","link_id":"0","link_type":"","end_time":"","sort_order":"4","margin_between":"10","width":"100","margin_top":"15","margin_right":"40","margin_bottom":"15","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"50","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"27","name":"TOP BRANDS NEW COlLECTIONS BANNER 2","parent_id":"24","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner5.png","image_width":"200","image_height":"200","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"15","margin_right":"40","margin_bottom":"15","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"50","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"28","name":"TOP BRANDS NEW COlLECTIONS BANNER 3","parent_id":"24","description":"","status":"1","block_type":"banner","image_url":"catalog/mobile-blocks/Banners/Banner7.png","image_width":"200","image_height":"200","link_id":"0","link_type":"","end_time":"","sort_order":"0","margin_between":"10","width":"100","margin_top":"15","margin_right":"40","margin_bottom":"15","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"50","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"none","text_color":"#000000","bg_color":"#ffffff"},{"id":"29","name":"Flash Sale","parent_id":"1","description":"","status":"1","block_type":"flash_sale","image_url":"","image_width":"200","image_height":"200","link_id":"20","link_type":"","end_time":"Sep 09, 2019 12:00","sort_order":"11","margin_between":"10","width":"100","margin_top":"0","margin_right":"0","margin_bottom":"0","margin_left":"0","padding_top":"0","padding_right":"0","padding_bottom":"0","padding_left":"0","border_radius":"0","layout":"scroll","layout_grid_col":"two","card_style":"card_ios","shape":"square","header_align":"top_center","text_color":"#000000","bg_color":"#ffffff"}]');
		
		foreach ($data as $value) {
			$this->db->query("INSERT INTO " . DB_PREFIX . "mstoreapp_blocks SET id = '" . (int)$value->id . "', name = '" . $this->db->escape($value->name) . "', `parent_id` = '" . (isset($value->parent_id) ? (int)$value->parent_id : 0) . "', `description` = '" . $this->db->escape($value->description) . "', status = '" . $this->db->escape($value->status) . "', block_type = '" . $this->db->escape($value->block_type) . "', image_url = '" . $this->db->escape($value->image_url) . "',  image_width = '" . (int)$value->image_width . "', image_height = '" . (int)$value->image_height . "', link_id = '" . $this->db->escape($value->link_id) . "', link_type = '" . $this->db->escape($value->link_type) . "', end_time = '" . $this->db->escape($value->end_time) . "', sort_order = '" . (int)$value->sort_order . "', margin_top = '" . (int)$value->margin_top . "', margin_right = '" . (int)$value->margin_right . "', margin_bottom = '" . (int)$value->margin_bottom . "', margin_left = '" . (int)$value->margin_left . "', padding_top = '" . (int)$value->padding_top . "', padding_right = '" . (int)$value->padding_right . "', padding_bottom = '" . (int)$value->padding_bottom . "', padding_left = '" . (int)$value->padding_left . "', width = '" . (int)$value->width . "', margin_between = '" . (int)$value->margin_between . "', border_radius = '" . (int)$value->border_radius . "', layout = '" . $this->db->escape($value->layout) . "', layout_grid_col = '" . $this->db->escape($value->layout_grid_col) . "', card_style = '" . $this->db->escape($value->card_style) . "', shape = '" . $this->db->escape($value->shape) . "', header_align = '" . $this->db->escape($value->header_align) . "', text_color = '" . $this->db->escape($value->text_color) . "', bg_color = '" . $this->db->escape($value->bg_color) . "'");
      	}
	}
}
